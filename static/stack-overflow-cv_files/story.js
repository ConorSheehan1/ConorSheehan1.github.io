(()=>{var e={59752:()=>{StackExchange=window.StackExchange=window.StackExchange||{},function(e){!function(e){!function(e){let t;!function(e){e[e.Job=1]="Job",e[e.PublicArtifact=2]="PublicArtifact",e[e.TopPost=3]="TopPost",e[e.AppsAndSoftware=4]="AppsAndSoftware",e[e.Education=5]="Education",e[e.Certification=6]="Certification",e[e.Assessment=7]="Assessment",e[e.Generic=10]="Generic",e[e.AutoGenerated=99]="AutoGenerated",e[e.OpenSource=100]="OpenSource",e[e.Reading=200]="Reading"}(t=e.UserStoryItemTypeId||(e.UserStoryItemTypeId={}))}(e.Story||(e.Story={}))}(e.Models||(e.Models={}))}((window.StackOverflow=window.StackOverflow||{})||{})},58747:()=>{var e;StackExchange=window.StackExchange=window.StackExchange||{},StackOverflow=window.StackOverflow=window.StackOverflow||{},function(e){const t=(e,t,o,s)=>{if(e.length){let a=StackOverflow.Models.Story.UserStoryItemTypeId[o.attr("data-typeid")];if(null==a)return;e.typeWatch({highlight:!1,wait:500,captureLength:-1,callback:()=>{const n=e.closest("form");e.closest(".coverable-input.input-loader").addClass("loading"),$.ajax({type:"POST",url:`/users/story/${StackExchange.user.options.userId}/search-lists-autocomplete`,data:{query:e.val(),fkey:StackExchange.options.user.fkey,itemType:a}}).done((a=>{e.closest(".autocomplete").find(".autocomplete-suggestions-list").remove(),e.closest(".coverable-input.input-loader").removeClass("loading");const i=$(a).insertAfter(e).on("click",".autocomplete-suggestion, .autocomplete-default",(e=>{const a=$(e.currentTarget);if(a.hasClass("autocomplete-default"))return n.find(t).focus(),!1;const i=a.data("list-id"),r=a.find(".autocomplete-suggestion-image [data-url]"),l=a.find(".autocomplete-suggestion-match").text(),c=r.data("url"),d=r.data("resized-url"),u=a.find(".autocomplete-suggestion-url").text();return s&&s(o,{name:l,imageUrl:c,resizedImageUrl:d,url:u,listId:i}),n.find(t).focus(),!1}));e.is(":focus")||i.hide()}))}})}},o=e=>{const t=null===e?$(".js-spoken-languages"):$(".js-spoken-languages",e);if(t.length>0){const e=parseInt(t.attr("data-max-count")),o=t.attr("data-placeholder"),s=$('<input class="s-input" type="text" name="SpokenLanguages" data-ga-action="Spoken Languages" />').attr("placeholder",o),a=()=>$("input[type=text]",t),n=()=>{$(".js-message",t).before(s.clone(!0))},i=()=>{let t=a().filter(((e,t)=>0===(t.value||"").trim().length)).get();for(var o=0;o<t.length-1;o++){let e=$(t[o]);e[0]!==document.activeElement&&e.remove()}0===t.length&&a().length<e&&n()};t.on("keyup keydown blur","input",i)}};let s=!1;StackExchange.user.initTimeline=()=>{if(s)return;s=!0,$(document).on("click",".timeline form :submit, .job-requirements-form :submit",(e=>{$(e.target).data("clicked",!0)})),$(document).on("submit",".timeline form, .job-requirements-form",(e=>{const t=$(e.target);t.find(":submit[name][value]").each(((e,o)=>{const s=$(o);if(!s.data("clicked"))return;s.data("clicked",null);let a=t.find(`input[name="${s.attr("name")}"]`).not(":submit");a.length||(a=$("<input>").attr({type:"hidden",name:s.attr("name")}).addClass("js-submit").appendTo(t)),a.val(s.attr("value"))}))}));const e=e=>{$(".description-expander",e).parent().each(((e,t)=>{const o=$(t),s=o.find(".description-expander"),a=o.find(".description-content-truncated"),n=o.find(".description-content-full"),i=s.is(":checked")?n:a,r=a.data("max-height")||parseInt(a.css("max-height"));a.data("max-height",r);const l=n.attr("style");n.css({visbility:"hidden",display:"block"});const c=n.outerHeight(!1);if(n.attr("style",l||""),c>r){let e=i.children();e=e.add(e.find("a, b, i, strong, em, li"));let t=Math.min(r,$(e[0]).outerHeight(!1));const o=i.offset().top;for(let s=1;s<e.length;s++){const a=$(e[s]),n=a.offset().top-o+a.outerHeight(!1);n<r&&(t=Math.max(t,n))}a.css("max-height",t+"px")}c<r?o.removeClass("description-ellipsis"):o.addClass("description-ellipsis")}))};e(),$(document).on("click",".timeline .feature-banner .js-toggle",(e=>{e.preventDefault();const t=$(e.target);$(".js-toggable",t.closest(".feature-banner")).toggleClass("_hidden")})),$(document).on("click",".js-add-assessment",(e=>{e.preventDefault(),StackExchange.using("gps",(()=>{StackExchange.gps.track("story.assessment.prompt.clicked",{Location:"Header"})})),$("html,body").animate({scrollTop:$("#item-add").offset().top-20}),$(".item-add.assessment input").click()})),$(document).on("click",".js-scroll-to",(function(e){e.preventDefault();const t=$(this).attr("href");$("html,body").animate({scrollTop:$(t).offset().top-20})})),$(document).on("click",".item-add.assessment",(e=>{$(e.target).hasClass("dno")||StackExchange.using("gps",(()=>{StackExchange.gps.track("story.assessment.prompt.clicked",{Location:"MenuItem"})}))}));(()=>{let e,t,o=null;const s=(e,s,a)=>{o=$(e).children(".list-card"),o.css({display:"flex",left:s,top:a}),t=!0,$(o).hover((()=>{o.stop(!0,!0).css("display","flex")}),(()=>{o.css("display","none"),t=!1}))};$(document).on("mouseenter",".js-listcard-hover",(o=>{const a=o.currentTarget,n=a.offsetParent.offsetWidth,i=a.offsetLeft/n*100+"%",r=a.offsetParent.offsetHeight,l=a.offsetTop/r*100+"%",c=$(a).attr("data-list-url"),d=$(a).closest(".timeline-item-content").children(".js-listcard-container:first");0===$(d).children().length?setTimeout((()=>{e=c,$.ajax({url:c,type:"GET",dataType:"html"}).done((o=>{$(d).html(o),t||e!==c||s(d,i,l)}))}),0):s(d,i,l)})),$(document).on("mouseleave",".js-listcard-hover",(()=>{$(o).delay(100).fadeOut("fast"),t=!1}))})();const a=(e,t)=>{const o=h($(e).find(".js-img-edit"));if(t.imageUrl?o.setImage(t.imageUrl,t.resizedImageUrl):o.empty(),$(e).find("input[name='Url']").val(t.url),$(e).find("input[name='Company']").val(t.name),$(e).find("input[name='School']").val(t.name),t.listId){const o=$(e).closest("form"),s=$("<input type='hidden' name='ListId' />").val(t.listId),a=$("<input type='hidden' name='ListClicked' />").val("true");o.find("input[name='ListId']").remove().end().append(s).find("input[name='ListClicked']").remove().end().append(a),o.submit()}$(e).data("next-focus","Title")},n=s=>{if(s.data("initialized"))return;s.data("initialized",!0);const n=s.find(".js-tag-editor");n.length&&StackExchange.using("tagEditor",(()=>{n.each(((e,t)=>{StackExchange.tagEditor($(t),{excerpts:!1,tagMenus:!0,useStacksClasses:!0})}))}));const i=s.find(".autocomplete .autocomplete-input");t(i,"input[name='Title']",s,a),i.length&&s.find(".company-tag .delete-tag").click((e=>{$(e.currentTarget).closest(".input-cover").remove(),s.find("input[name='Company'], input[name='Url'], input[name='LogoUrl'], input[name='School'], input[name='ImageUrl']").prop("disabled",!1).eq(0).focus(),s.find("input[name='ListId']").remove(),s.find(".img.logo").removeClass("disabled").addClass("js-img-edit"),s.find(".img .remove").removeClass("dno").addClass("js-img-remove")}));const r=s.filter("#form-section-PersonalInfo");if(r.length){let e=!0;const t=$(".privacy-helper").data("is-public");r.find(".privacy-wrapper").each(((o,s)=>{const a=$(s),n=a.find(".privacy-checkbox"),i=n.find("input:checkbox"),r=n.data("target-id"),l=a.find("#"+r);let c=!1;i.is(":checked")||(c=!0,e=!1);const d=()=>{e&&t||(c=!0,n.show())};a.on("focusout",(()=>{window.setTimeout((()=>{$(document.activeElement).closest(a).length||n.hide()}),2)})),l.on("keydown",(()=>d())).on("focus",(()=>{c&&d()}))}))}const l=r.find("#form-section-PersonalInfo-Location");if(l.length){const e=s.find("#form-section-PersonalInfo-LocationPlaceId");if(l.typeWatch({wait:0,callback(){e.val("")},highlight:!1,captureLength:-1}),window.google&&window.google.maps){const t=new google.maps.places.Autocomplete(l[0],{types:["geocode"],fields:["place_id","name","types"]});t.addListener("place_changed",(()=>{e.val("G:"+t.getPlace().place_id)}))}}const c=s.find(".textarea-with-counter textarea");c.length&&c.each(((e,t)=>{const o=$(t);o.charCounter({min:StackExchange.options.story.minCompleteBodyLength,max:4e3,target:o.closest(".textarea-with-counter").find(".-counter-span"),ignoreWhitespace:!0,setIsValid(e){const t=o.next(".-counter");t.toggleClass("-success",e),t.toggleClass("-fail",!e),t.find(".-counter-span").toggleClass("dno",e),t.find(".-success-span").toggleClass("dno",!e)}}),o.val()&&o.trigger("charCounterUpdate")})),e(s),o(s)};$(".timeline-item, .header-edit-section").each(((e,t)=>{n($(t))}));const i=(e,t)=>{let o;if(e&&null!=(o=t.data("order-by"))){const s=e.siblings().filter("[data-order-by]").toArray();let a=null;for(let e=0;e<s.length;e++){const t=$(s[e]);if(t.data("order-by")<o){a=t;break}}a?t.insertBefore(a):t.appendTo(".timeline-feed")}else e?t.insertBefore(e):t.insertBefore(".timeline-feed .timeline-item:first");if(e){let o=e.data("next-focus");if(!o){const t=e.find("input:focus");t.length&&(o=t.attr("name"))}o&&t.find(`input[name='${o}']`).focus(),e.remove()}n(t)},r={get(e){"#"!==e.charAt(0)&&(e="#"+e);const t=this[e];return t||(window.location.href=`/users/story/${StackExchange.user.options.userId}#item-add`),delete this[e],t.find(".js-loader").removeClass("loading"),t},put(e){if(!e)return;this["#"+e.attr("id")]=e}},l=e=>{try{for(let t=localStorage.length-1;t>=0;t--){let o=localStorage.key(t);0===o.indexOf(`DevStory:${e}`)&&localStorage.removeItem(o)}}catch(e){}},c=(e,t)=>{if(!t.is("input,textarea,select")||t.is("[type=hidden],[type=submit],[type=reset]"))return;let o=t.attr("name");if(!o)return;let s=t.val();if(t.is("[type=radio],[type=checkbox]")&&(s&&(o+=":"+s),s=t.is(":checked")),o)try{localStorage.setItem(`DevStory:${e}:${o}`,s)}catch(e){}},d=(e,t)=>{t.find("input,textarea,select").each(((t,o)=>{const s=$(o);if(s.is("[type=hidden],[type=submit],[type=reset],.js-ignore-restore"))return;let a=s.attr("name");if(a)try{s.is("[type=radio],[type=checkbox]")&&(a+=":"+s.val());const t=localStorage.getItem(`DevStory:${e}:${a}`);t&&(s.is("[type=radio],[type=checkbox]")?s.prop("checked","true"===t):s.val(t))}catch(e){}}))},u=e=>{e.preventDefault();const t=$(e.target);let o;if(t.attr("data-adds-item")){o=$("#item-add"),o.length||(o=null);const e=r.get("#item-add");o&&e&&(o.replaceWith(e),o=e)}else o=t.closest(".timeline-item");r.put(o),p(t).done((e=>{const s=$(e),a=s.data("typeid"),n=s.is("#item-add")?"-1":s.attr("id"),r=s.find("form");r.length>0&&d(`${a}:${n}`,r),i(o,s),t.attr("data-scroll-to")&&s[0].scrollIntoView(!0)}))},p=e=>{const t="submitting";return e.hasClass(t)?$.Deferred().promise():(e.addClass(t),$.ajax({type:e.attr("method")||"GET",url:e.attr("action")||e.attr("href"),data:e.is("form")?e.serialize():null}).always((()=>{e.removeClass(t),e.find(".js-submit").remove(),e.find(".js-loader").removeClass("loading")})))};$(document).on("click",".js-loader",(e=>{$(e.target).closest(".js-loader").addClass("loading")})),$(document).on("click",".timeline .timeline-item .item-edit-button a",u),$(document).on("click",".timeline .timeline-item.placeholder a.js-add-link",u),$(document).on("submit",".timeline .timeline-item.add form",u),$(document).on("change",".timeline .timeline-item input,textarea,select",(e=>{const t=$(e.target),o=t.closest(".timeline-item"),s=o.data("typeid"),a=o.is("#item-add")?"-1":o.attr("id");c(`${s}:${a}`,t)})),$(document).on("click",".timeline .timeline-item a.item-cancel-button",(e=>{const t=e.target,o=$(t).closest(".timeline-item"),s=r.get(t.hash);s&&(i(o,s),e.preventDefault());const a=o.data("typeid"),n=o.is("#item-add")?"-1":o.attr("id");l(`${a}:${n}`)})),$(document).on("click",".js-og-request",(e=>{e.preventDefault();let t=$.trim($("input[name=Url]").val());const o=$(e.currentTarget).closest("form");if(!t.length)return o.submit();/^https?:/.test(t)||(t="http://"+t);m(t,o).fail((e=>{const s=t.replace("http://","https://");return m(s,o)})).then((e=>{$(o).find(".js-og-title").val(e.hybridGraph.title),$(o).find(".js-og-image-url").val(e.hybridGraph.image),$(o).find(".js-og-description").val(e.hybridGraph.description),$(o).submit()}),(()=>{$(o).submit()}))}));const m=(e,t)=>{const o="https://opengraph.io/api/1.0/site/"+encodeURIComponent(e)+"?app_id="+StackExchange.settings.userProfile.openGraphAPIKey;return $.ajax({dataType:"json",url:o}).then((e=>e.error?$.Deferred().reject(new Error(e.error)):e))};$(document).on("submit",".timeline .timeline-item.edit form",(e=>{e.preventDefault();var t=$(e.target).closest(".timeline-item");const o=t.is("#item-add"),s=t.data("typeid"),a=$(e.target);p(a).done((e=>{const a=$(e);o&&!a.is("#item-add")?(r.get("#item-add").insertBefore(t),l(s)):o||a.is(".edit")||l(s),i(t,a),w(a)}))})),$(document).on("submit",".timeline .timeline-item .item-delete-button form",(e=>{e.preventDefault();$(e.target).closest(".timeline-item").find(".timeline-item-warning").css("display","flex")})),$(document).on("click",".timeline .timeline-item .timeline-item-warning a.js-btn-warning",(e=>{$(e.currentTarget).closest(".timeline-item-warning").hide()})),$(document).on("click",".timeline .timeline-item .timeline-item-warning a.js-btn-confirm",(e=>{const t=$(e.currentTarget).closest(".timeline-item").find(".item-delete-button form");p(t).done((()=>{const e=t.closest(".timeline-item");e.fadeOutAndRemove(),w(e),e.hasClass("assessment")&&$.ajax({url:`/users/story/edit/${StackExchange.user.options.userId}/header/featured-assessments`,type:"GET",dataType:"html"}).done((e=>{$(".js-featured-assessments").html(e)}))}))})),$(document).on("change","input[type=checkbox][data-current-for]",(e=>{const t=$(e.target),o=$("#"+t.data("current-for"));o.prop("disabled",t.is(":checked")?"disabled":null),o.is("fieldset")&&o.find("select,input").prop("disabled",t.is(":checked")?"disabled":null)}));const g=e=>{const t=$(e.target).closest(".autocomplete").find(".autocomplete-suggestions-list").show();$(".autocomplete-suggestions-list").not(t).hide()};$(document).on("click","body",g),$(document).on("focus","body",g),$(document).on("keydown",".autocomplete",(e=>{if(27===e.which){const t=$(e.target).closest(".autocomplete");t.find(".autocomplete-suggestions-list").remove(),t.find(".autocomplete-input").focus()}}));const h=e=>{const t=$(e),o=t.find("input"),s=t.find("img").not(".js-img-empty"),a={empty(){t.find(".js-img-empty").removeClass("dno"),t.find(".js-img-preview").addClass("dno"),o.val("")},showDialog(){StackExchange.imageUploader.createImageUploadBackground(),StackExchange.imageUploader.uploadImageDialog((e=>{e&&a.setImage(e),StackExchange.imageUploader.removeImageUploadBackground()}))},setImage(e,n){e?(o.val(e),n?s.attr("src",n):s.attr("src",e),t.find(".js-img-empty").addClass("dno"),t.find(".js-img-preview").removeClass("dno")):a.empty()}};return a};$(document).on("click",".timeline .js-img-edit",(e=>{e.preventDefault();const t=$(e.target),o=h(t.closest(".js-img-edit"));t.closest(".js-img-remove").length?o.empty():o.showDialog()}));const f=(e,t)=>{const o=e.closest(".header-edit-section");r.put(o),p(e).done((e=>{const s=$(e),a=s.find("form");a.length>0&&d("Header",a),s.insertAfter(o),o.remove(),t&&s.find(t).focus(),n(s)}))},k=new URLSearchParams(window.location.search).get("section");if(k){const e=$(".header-edit-btn-ajax",$(`#form-section-${k}`));e.length>0&&f(e)}const v=(e,t)=>{e.preventDefault(),f($(e.target),t)};$(document).on("click","a.header-edit-btn-ajax",v),$(document).on("click",".header-edit-section-open a.header-cancel",(e=>{const t=$(e.target).closest(".header-edit-section"),o=r.get(t.attr("id"));o&&(e.preventDefault(),o.insertAfter(t),t.remove())})),$(document).on("submit",".header-edit-section-open form",(e=>{e.preventDefault();const t=$(e.target).closest(".header-edit-section"),o=$(e.target);p(o).done((e=>{const o=$(e);o.is(".editing")||l("Header"),o.insertAfter(t),t.remove(),w(o),n(o)}))})),$(document).on("change",".header-edit-section input,.header-edit-section textarea, .header-edit-section select",(e=>{c("Header",$(e.target))}));const y=(()=>{let e=null;const t=e=>{e.removeClass("sticky").removeClass("sticky-bottom")};return $(window).on("scroll resize load",(()=>{if(!e)return;const o=$(window).scrollTop();o>e.top()?(e.target.addClass("sticky"),o>e.bottom()?e.target.addClass("sticky-bottom"):e.target.removeClass("sticky-bottom")):(t(e.target),e.updateTop())})),()=>{let o,s,a;const n=$(".job-requirements-form"),i=$(".timeline-wrapper"),r=$(".timeline-sidebar"),l=n.add(r);r.length&&(r.is(":empty")?r.remove():(t(l),n.length&&i.length?(s=n.outerHeight(!0),e={top:()=>o,bottom(){const e=i.outerHeight(!0);return a+e-s},updateTop(){a=i.offset().top,o=n.offset().top},target:l},e.updateTop()):e=null))}})();y(),$(".js-jobs-recommendations").on("recommendations-updated",y);const j=e=>{e=$(e);let t=$(".timeline-sidebar");t.length&&t.remove(),t=$(".timeline-wrapper"),e.appendTo(t),y(),e.find(".job-requirements").is(".js-complete")?$(".timeline").removeClass("requirements-for-jobs"):$(".timeline").addClass("requirements-for-jobs")};$(document).on("submit",".job-requirements-form",(e=>{e.preventDefault();const t=$(e.target);p(t).done(j)})),$(document).on("click",".job-requirements .js-min-complete-list a.js-requirement",(e=>{const t=$(e.target).closest("a"),o=$(t.attr("data-target")),s=t.data("category"),a=t.data("search-status");if(s&&StackExchange.using("gps",(()=>{StackExchange.gps.track("min-complete-prompt.click",{Item:s,Status:a})})),o.length){$("html,body").animate({scrollTop:o.offset().top-20});const a=t[0].hash,n=o.find(".header-edit-btn-ajax");if(o.is("#item-add"))if("Assessment"===s)o.find(".assessment input").click(),StackExchange.using("gps",(()=>{StackExchange.gps.track("story.assessment.prompt.clicked",{Location:"Sidebar"})}));else{const e=o.find(t.attr("data-update-trigger"));e.removeClass("blink"),window.setTimeout((()=>{e.addClass("blink")}),0)}else"Experience"===s?$(o).find(".item-edit-button a").click():n.length?(e.target=n[0],v(e,a)):o.find(a).focus();e.preventDefault()}}));const w=e=>{let t=!1;$(".job-requirements .js-min-complete-list a[data-update-trigger]").each(((o,s)=>{t=t||e.is($(s).attr("data-update-trigger"))}));t&&$(".job-requirements-form").submit()};$(document).on("click",".tag-wrapper .js-tag-toggle",(e=>{e.preventDefault();const t=$(e.currentTarget);t.closest(".tag-wrapper-item").find(".more").toggleClass("dno"),t.text("more"===t.text()?"fewer":"more")})),$(document).on("submit","form.import-careers-cv-form",(e=>confirm("This will erase your existing Developer Story and recreate it based on your Careers CV. Continue?")))};let a=!1;StackExchange.user.initOnboarding=e=>{if(a)return;a=!0;const s={},n=(e.searchStatus,e.userId),i=e=>{if(s[e])return;const t=$(e);StackExchange.using("tagEditor",(()=>{initTagRenderer([""],[""]),StackExchange.tagEditor(t,{useStacksClasses:!0}),s[e]=!0}))};$(".js-like").is(":visible")&&i(".js-like");const r=(e,t)=>{const o=$(e);if($(".js-input-group").removeClass("has-error"),$(".js-error").addClass("d-none"),$(".js-input-icon").addClass("d-none"),o.closest(".step").toggleClass("hidden"),$(".hero-step-counter > .completed").toggleClass("hidden"),$(".hero-step-counter > .js-inactive").toggleClass("hidden"),t){$(".js-onboarding .js-step-2").toggleClass("hidden");const e=$('.js-onboarding-work-education input[type="radio"]:checked').data("wrapper-id");c(e)}else $(".js-onboarding .js-step-1").toggleClass("hidden");$(".js-step-counter").scrollIntoView()},l=(e,t)=>{const o=$(e),s=$(".js-onboarding");var a;if(t){const e=$("input[name=add-xp]:checked").attr("id");a=$("#"+e+"-form")}else a=$("#step1form");return $.ajax({type:"POST",url:`/users/story/${n}/onboarding/save`,data:a.serialize()}).done((e=>{e.ModelErrors?(((e,t)=>{for(let o=0;o<t.length;o++){e.find(".js-error-"+t[o]).removeClass("d-none");let s=e.find(`label[for=${t[o]}]`).closest(".js-input-group");s.addClass("has-error"),s.find(".js-input-icon").removeClass("d-none"),"LikedTags"!==t[o]&&"JobTags"!==t[o]&&"Tags"!==t[o]&&"EducationTags"!==t[o]||e.find(`#${t[o]}`).closest(".js-input-group").addClass("has-error"),$(".js-onboarding").on("keydown",":input",(e=>{let t=$(e.currentTarget).closest(".js-input-group");t.removeClass("has-error"),t.find(".js-error, .js-input-icon").addClass("d-none")}))}const o=$(".has-error").first();0!==o.length&&o.scrollIntoView()})(s,e.ModelErrors),t&&(o.removeClass("is-loading"),e.JobStoryItemId&&$("#JobStoryItemId").val(e.JobStoryItemId),e.EducationStoryItemId&&$("#EducationStoryItemId").val(e.EducationStoryItemId))):t?(StackExchange.ga.trackFormInputs(a),a.submit()):(StackExchange.ga.trackFormInputs(a),r(o,!0)),t||o.removeClass("is-loading")}))},c=e=>{if("work-experience-wrapper"===e){i(".js-work-tags");const e=$(".autocomplete .js-company-autocomplete"),o=$("input[name='Tags']").next().find("input");t(e,o,e,((e,t)=>{$("input[name='CompanyName']").val(t.name),$("input[name='CompanyId']").val(t.companyId),$("input[name='ListId']").val(t.listId)}))}else i(".js-school-tags")};$(".js-onboarding .js-btn-confirm").not(".js-prev").on("click",(e=>{e.preventDefault();const t=$(e.currentTarget);t.addClass("is-loading");const o=!!t.data("save-first-item");l(t,o)})),$(".js-onboarding a.js-prev").on("click",(e=>{e.preventDefault();const t=$(e.currentTarget);r(t,!1)})),$("input[type=radio][name=SearchStatus]").on("change",(e=>{const t=$(e.target),o=$(".js-onboarding");"not-looking"===t.attr("id")?(o.find(".is-required").hide(),o.find(".js-job-recommendations input").prop("checked",!1)):(o.find(".is-required").show(),o.find(".js-job-recommendations input").prop("checked",!0))})),$("#search-status-menu").on("change",(e=>{"not-looking"===$(e.target).children(":selected").attr("id")?$(".js-onboarding").find(".is-required").hide():$(".js-onboarding").find(".is-required").show()})),$(".js-onboarding .js-hero-dismiss").on("click",(e=>{var t;return(t=$(e.currentTarget).closest(".step").data("step"),$.ajax({type:"POST",url:"/users/story/dismissonboarding/"+n,data:{fkey:StackExchange.options.user.fkey,step:t}})).always((()=>{window.location.href=window.location.href+(window.location.href.contains("?")?"&":"?")+"_=1"})),!1})),$(".js-current-position, .js-current-education").on("click",(e=>{const t=$(e.currentTarget);t.parent().prev(".js-enddate-select").prop("disabled",t.is(":checked"))})),$('.js-onboarding-work-education input[type="radio"]').on("click",(e=>{$(".js-work-experience-wrapper, .js-education-wrapper").hide();const t=$(e.currentTarget).data("wrapper-id");$(".js-"+t).show(),c(t)})),$(".textarea-with-counter textarea").each(((e,t)=>{$(t).charCounter({min:StackExchange.options.story.minCompleteBodyLength,max:4e3,target:$(t).closest(".textarea-with-counter").find(".-counter-span"),ignoreWhitespace:!0,setIsValid:e=>{const o=$(t).next(".-counter");o.toggleClass("-success",e),o.toggleClass("-fail",!e),o.find(".-counter-span").toggleClass("dno",e),o.find(".-success-span").toggleClass("dno",!e)}})})),o()};let n=!1;StackExchange.user.initJobsOnboarding=e=>{if(n)return;n=!0;const t=()=>{const e=$(".js-location"),t=$(".js-location-place-id");if(e.length>0){const o=e[0],s={types:["geocode"],fields:["place_id","name","types"]};if(window.google&&window.google.maps){const e=new google.maps.places.Autocomplete(o,s);e.addListener("place_changed",(()=>{t.val("G:"+e.getPlace().place_id)}))}e.typeWatch({wait:10,callback(){t.val("")},highlight:!1,captureLength:-1})}},s=e=>{StackExchange.tagEditor(e);const t=e.parent().find("div.tag-editor");e.hasClass("error")&&t.addClass("error"),t.find('input[type="text"]').on("focus",(()=>{t.addClass("focus"),t.removeClass("hover")})),t.find('input[type="text"]').on("focusout",(()=>{t.removeClass("focus")})),t.on("mouseenter",(()=>{t.hasClass("focus")||t.addClass("hover")})),t.on("mouseleave",(()=>{t.removeClass("hover")}))},a=()=>{StackExchange.using("tagEditor",(()=>{initTagRenderer([""],[""]),$(".js-tags-liked:visible").length>0&&s($(".js-tags-liked")),$(".js-work-tags:visible").length>0&&s($(".js-work-tags")),$(".js-education-tags:visible").length>0&&s($(".js-education-tags"))}))},i=()=>{const e=$(".autocomplete .js-company-autocomplete");var t,o,s;o=e,s=(e,t)=>{$("input[name='CompanyName']").val(t.name),$("input[name='ListId']").val(t.listId)},(t=e).length&&t.typeWatch({highlight:!1,wait:500,captureLength:-1,callback:()=>{t.closest(".coverable-input.input-loader").addClass("loading");const e=$("#min-ds-form").data("user-id");$.ajax({type:"POST",url:`/users/story/${e}/search-lists-autocomplete`,data:{query:t.val(),fkey:StackExchange.options.user.fkey,itemType:StackOverflow.Models.Story.UserStoryItemTypeId.Job}}).done((e=>{t.closest(".autocomplete").find(".autocomplete-suggestions-list").remove(),t.closest(".coverable-input.input-loader").removeClass("loading");const a=$(e).insertAfter(t);$(".autocomplete-suggestion, .autocomplete-default").on("click",(e=>{const t=$(e.currentTarget);if(t.hasClass("autocomplete-default"))return a.hide(),!1;const n=t.data("list-id"),i=t.find(".autocomplete-suggestion-match").text(),r=t.find(".autocomplete-suggestion-image [data-url]").data("url"),l=t.find(".autocomplete-suggestion-url").text();return s&&s(o,{name:i,imageUrl:r,url:l,listId:n}),a.hide(),!1})),t.is(":focus")||a.hide()}))}})},r=(e,o,s)=>{e.fadeOut("fast",(()=>{$(".js-step-counter").scrollIntoView(),o.fadeIn("slow",(()=>{s?p($("#user-story-item-type").val()===$("#education-item").val()):(t(),a())}))}))},l=(e,t)=>{$(".js-input-group").removeClass("has-error"),$("div.tag-editor").removeClass("error"),$(".js-error").hide(),e.prop("disabled",!0),$(".js-step-counter .step.completed").toggleClass("hidden"),$(".js-step-counter .step.js-inactive").toggleClass("hidden"),$(".js-step-one").is(":visible")?r($(".js-step-one"),$(".js-step-two"),t):$(".js-step-two").is(":visible")&&r($(".js-step-two"),$(".js-step-one"),t),e.prop("disabled",!1)},c=(e,t,o,s)=>{const a="ResumeUploaderModel";for(let o=0;o<t.length;o++)if(0!=t[o].indexOf(a))e.find(`.js-error-${t[o]}`).show(),e.find(`.js-error-${t[o]}`).closest(".js-input-group").addClass("has-error"),"LikedTags"!==t[o]&&"JobTags"!==t[o]&&"Tags"!==t[o]&&"EducationTags"!==t[o]||e.find(`#${t[o]}`).closest(".js-input-group").addClass("has-error");else{var n=t[o].substr(a.length+1);$(".resume-error").html(n).show()}$(".js-onboarding").off("input",":input"),$(".js-onboarding").on("input",":input",(e=>{if(s||!o)return;const t=$(e.currentTarget).closest(".js-education-wrapper, .js-work-experience-wrapper");t.find('input[type="text"]:not(.tag-editor), textarea').toArray().every((e=>""==$(e).val()))&&(t.find(".js-input-group").removeClass("has-error").find(".js-error").addClass("d-none"),t.find(".js-input-group").find("div.tag-editor").removeClass("error"))})),$(".js-onboarding").off("keydown",":input"),$(".js-onboarding").on("keydown",":input",(e=>{const t=$(e.currentTarget).closest(".js-input-group");t.hasClass("js-tags")&&t.find("div.tag-editor").removeClass("has-error"),t.removeClass("has-error").find(".js-error").hide()})),$(".js-onboarding").off("click","select"),$(".js-onboarding").on("click","select",(e=>{$(e.currentTarget).closest(".js-input-group").removeClass("has-error").find(".js-error, .js-input-icon").addClass("d-none")}));const i=$(".has-error, .resume-error").first();0!==i.length&&i.scrollIntoView()},d=(e,t)=>{const o=$("#min-ds-form"),s=$("#min-ds-form").data("user-id");let a=null;return $(".js-step-one").is(":visible")?$(".js-step-two input:hidden").prop("disabled",!0):$(".js-step-two").is(":visible")&&$(".js-step-one input:hidden").prop("disabled",!0),a=o.serialize(),$(".js-step-one").is(":visible")?$(".js-step-two input:hidden").prop("disabled",!1):$(".js-step-two").is(":visible")&&$(".js-step-one input:hidden").prop("disabled",!1),e.addClass("loading"),$(".resume-error").html(null).hide(),$.ajax({type:"POST",url:`/users/story/${s}/onboarding/save`,data:a}).done((s=>{if(s.ModelErrors||(StackExchange.ga.trackFormInputs(o),t||StackExchange.ga.trackElement(o)),t)s.ModelErrors?c(o,s.ModelErrors,s.HasSavedResume,t):(void 0!==s.HasSavedResume&&$(".min-ds-content").toggleClass("has-saved-resume",s.HasSavedResume),l(e,!0));else{let e=!1;if(s.ModelErrors&&(c(o,s.ModelErrors,s.HasSavedResume,t),e=!0),s.JobStoryItemId&&$("#JobStoryItemId").val(s.JobStoryItemId),s.EducationStoryItemId&&$("#EducationStoryItemId").val(s.EducationStoryItemId),!e){var a=(n=new RegExp("[?&]"+"returnUrl"+"=([^&]*)").exec(window.location.search))?decodeURIComponent(n[1].replace(/\+/g," ")):null;a?window.location.replace(a):s.redirectUrl&&window.location.replace(s.redirectUrl)}}var n;e.removeClass("loading")}))};const u=e=>{e.trigger("keyup")},p=e=>{e?($("#user-story-item-type").val($("#education-item").val()),$(".js-onboarding-work-education #add-education").prop("checked",!0),$(".js-onboarding-work-education #add-work").prop("checked",!1),u($(".js-education-wrapper .textarea-with-counter textarea"))):($("#user-story-item-type").val($("#job-item").val()),$(".js-onboarding-work-education #add-work").prop("checked",!0),$(".js-onboarding-work-education #add-education").prop("checked",!1),u($(".js-work-experience-wrapper .textarea-with-counter textarea")),i()),a()};o(),t(),a(),$('.js-onboarding-work-education input[type="radio"]').on("click",(e=>{$(".js-work-experience-wrapper, .js-education-wrapper").hide();const t=$(e.currentTarget).data("wrapper-id");$(".js-"+t).show(),p("work-experience-wrapper"!==t)})),$("#wizard-previous-btn").on("click",(e=>(l($(e.currentTarget),!1),!1))),$("#wizard-next-btn").on("click",(e=>(d($(e.currentTarget),!0),!1))),$("#wizard-done-btn").on("click",(e=>(d($(e.currentTarget),!1),!1))),$(".js-work-is-current, .js-education-is-current").on("click",(e=>{const t=$(e.target),o=t.is(".js-work-is-current")?$(".js-work-end-year"):$(".js-education-end-year");t.is(":checked")?o.prop("disabled",!0):o.prop("disabled",!1)})),$(".js-work-end-year, .js-education-end-year").change((e=>{const t=$(e.currentTarget),o=t.is(".js-work-end-year")?$(".js-work-start-year"):$(".js-education-start-year"),s=t.is(".js-work-end-year")?$(".js-work-end-year"):$(".js-education-end-year"),a=parseInt(o.val(),10),n=parseInt(s.val(),10);n<a&&o.val(n)})),$(".js-work-start-year, .js-education-start-year").change((e=>{const t=$(e.currentTarget),o=t.is(".js-work-start-year")?$(".js-work-start-year"):$(".js-education-start-year"),s=t.is(".js-work-start-year")?$(".js-work-end-year"):$(".js-education-end-year");if(s.length>0){const e=parseInt(o.val(),10),t=parseInt(s.val(),10);e>t&&t>0&&s.val(e)}})),$(".textarea-with-counter textarea").each(((e,t)=>{$(t).charCounter({min:StackExchange.options.story.minCompleteBodyLength,max:4e3,target:$(t).closest(".textarea-with-counter").find(".-counter-span"),ignoreWhitespace:!0,setIsValid(e){const o=$(t).next(".-counter");o.toggleClass("-success",e),o.toggleClass("-fail",!e),o.find(".-counter-span").toggleClass("dno",e),o.find(".-success-span").toggleClass("dno",!e)}})})),$("input[type=radio][name=SearchStatus]").on("change",(e=>{const t=$(e.target),o=$(".js-onboarding");"SearchState-NotLooking"===t.attr("id")?o.find(".js-job-recommendations input").prop("checked",!1):o.find(".js-job-recommendations input").prop("checked",!0)})),p($("#user-story-item-type").val()===$("#education-item").val())},StackExchange.user.handleListImageError=e=>{$(e).parent("div").hide().prev(".js-logo-blank").css("display","flex");const t=$(e).data("list-id");if(t)return $.ajax({type:"POST",url:"/users/story/lists/enqueue-for-logo-update",data:{fkey:StackExchange.options.user.fkey,listId:t}})};let i=!1;StackExchange.user.initJobSearchPreferences=e=>{if(i)return;i=!0,e||StackExchange.using("tagEditor",(()=>{const e={suggestionsWidth:466,useStacksClasses:!0};StackExchange.tagEditor($("#technologies-like"),e),StackExchange.tagEditor($("#technologies-dislike"),e)}));const t=$("#location-widget"),o=$("#location-items"),s=$("#location-address"),a=$("#location-place-id"),n=$("#location-add"),r=$("#location-home-item"),l=$("#location-include-home"),c=$("#geo-tag-template").html(),d=o.data("initial")||[],u=$("input[name='SearchStatus']"),p=$(".js-salary"),m=$(".js-more"),g=$("#notify-container"),h=$(".js-disliked-companies-autocomplete"),f=$(".js-disliked-companies");p.keydown((e=>{if(e.key&&1===e.key.length&&!/[0-9]/.test(e.key))return!1})),l.change((e=>{$(e.currentTarget).is(":checked")?r.removeClass("dno"):r.addClass("dno")}));const k=()=>{o.find(".geo-tag").not(r).remove();for(let e=0;e<d.length;e++){const t=d[e],s=$.extend({i:e,NeedsVisaClass:t.NeedsVisa?"needs-visa":""},t);$(c.formatUnicorn(s)).appendTo(o)}};if(o.on("click",".delete-location",(e=>{e.preventDefault();const t=$(e.target).closest(".geo-tag[data-index]");t.length&&1===d.splice(t.data("index"),1).length&&k()})),n.click((e=>{e.preventDefault();const o={};t.find("[data-property]").each(((e,t)=>{const s=$(t);o[s.data("property")]=s.is("input[type=checkbox]")?s.is(":checked"):s.val(),s.val("").prop("checked",!1)})),d.push(o),k(),n.prop("disabled",!0)})),s.typeWatch({wait:10,callback(){a.val(""),n.prop("disabled",!0)},highlight:!1,captureLength:-1}),window.google&&window.google.maps){const e={types:["geocode"]},t=new google.maps.places.Autocomplete(s[0],e);t.addListener("place_changed",(()=>{const e=t.getPlace();e.address_components.reduce(((e,t)=>({types:e.types.concat(t.types)}))).types.indexOf("country")>=0&&(a.val("G:"+e.place_id),n.prop("disabled",!1))}))}const v=(e,t)=>{e=e.chosen(t);const o=t=>{const o=e.data("name");if(!o)return;e.next().find(".search-choice-close").removeClass("search-choice-close").addClass("delete-tag");const s=e.parent();s.find('[name^="{0}["]'.formatUnicorn(o)).remove();const a=e.val()||[];$.each(a,(e=>{$("<input>").attr({type:"hidden",name:"{0}[{1}]".formatUnicorn(o,e),value:a[e]}).appendTo(s)})),!0===t&&StackExchange.ga.recordInputChange(e)};e.change((()=>o(!0))),o()};e||(v($("#developer-roles"),{max_selected_options:StackExchange.options.jobPreferences.maxNumDeveloperRoles}),v($("#industries-liked"),{max_selected_options:StackExchange.options.jobPreferences.maxNumIndustries}),v($("#industries-disliked"))),u.on("change",(()=>{u.each(((e,t)=>{const o=$(t),s=o.parent("label").siblings(".opt-in-message");o.is(":checked")?s.css("visibility","visible"):s.css("visibility","hidden")}))}));const y=(e,t)=>{e.siblings(".tag-editor").toggleClass("has-error",t),e.siblings(".error-message").toggle(t)},j={"technologies-like":StackExchange.options.story.likedTagsMaxLength,"technologies-dislike":StackExchange.options.story.dislikedTagsMaxLength};function w(){const e=$(".js-disliked-companies").find(".js-disliked-company-id").toArray().map((e=>parseInt($(e).val()))).filter((e=>!isNaN(e)));$.ajax({type:"POST",url:"/users/story/save-disliked-companies",data:{dislikedIds:e,fkey:StackExchange.options.user.fkey}})}$("#technologies-like, #technologies-dislike").on("keydown keyup change paste",(e=>{var t=$(e.target);y(t,t.val().length>j[t.attr("id")])})),h.autoComplete({menuClass:"bg-white ps-absolute z-modal overflow-x-hidden overflow-y-auto bx bb bc-black-200 bs-md is-visible c-pointer company-page-autocomplete",minChars:1,source:function(e,t){try{o.abort()}catch(e){}var o=$.getJSON("/jobs/get-companies",{term:e,max:6},(function(e){t(e)}))},renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");const o=e.CompanyName.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");const s=new RegExp("("+t.split(" ").join("|")+")","gi");return`<div class="ps-relative d-flex fl1 p8 lh-lg fc-black-700 autocomplete-suggestion" data-id="${e.Id}" data-name="${o}" data-logo-url="${e.LogoUrl}" data-slug="${e.Slug}"><img class="flex--item -logo" src="${e.LogoUrl}" /><span class="flex--item pl6 truncate">${o.replace(s,"<span class='fw-bold td-underline'>$1</span>")}</span></div>`},onSelect:function(t,o,s){!function(t,o,s,a){if(0==f.find(".js-disliked-company-id").filter(((e,o)=>$(o).val()==t)).length){const n=$(".js-disliked-company-template").clone().removeClass("js-disliked-company-template").removeClass("d-none").data("id",t);n.find(".js-disliked-company-name").html(o),n.find(".js-disliked-company-img").attr("src",a),n.find(".js-disliked-company-id").val(t).attr("name",n.data("id-field-name"));const i=n.find(".js-disliked-company-link");i.attr("href",i.attr("href")+s),f.prepend(n),e&&w()}}(s.data("id"),s.data("name"),s.data("slug"),s.data("logo-url")),$(this).focus(),t.preventDefault()}}),f.on("click",".js-close",(function(t){return t.preventDefault(),$(this).closest(".js-disliked-company").remove(),e&&w(),!1}));var b=$("form#jobPreferencesForm");b.on("submit",(e=>{e.preventDefault(),g.html("");var t=b.serialize();return StackExchange.helpers.addSpinner($("#spinnerContainer")),$.ajax({type:"POST",url:b.attr("action"),data:t}).done((()=>{const e=u.filter(":checked");!e.data("was-checked")&&StackExchange.ga.track("Account Management","Job Search Status Change Save",e.data("label")),window.location.href=window.location.href})).fail((e=>{if(400===e.status){const t=e.responseJSON;if(t.industriesTooLong||t.developerRolesTooLong){const e=t.industriesTooLong?"Add up to "+StackExchange.options.jobPreferences.maxNumIndustries+" industries only":"Add up to "+StackExchange.options.jobPreferences.maxNumDeveloperRoles+" roles only",o={type:"error",position:"toast",transient:!0,transientDuration:4e3};return void StackExchange.helpers.showMessage($("body"),e,o)}t.likedTagsTooLong&&y($("#technologies-like"),!0),t.dislikedTagsTooLong&&y($("#technologies-dislike"),!0),null!=t.savedResumeError&&t.savedResumeError.length>0?($(".resume-error").html(t.savedResumeError).show(),$(".js-resume-uploader").scrollIntoView()):$("#tags").scrollIntoView()}else $("#save-error-message").show().scrollIntoView()})).always((()=>{StackExchange.helpers.removeSpinner()})),!1})),$(".js-save-job-preferences").click((function(){b.submit()})),m.click((function(){var e=$(this),t=e.siblings(".-more-item"),o=t.first(),s=!o.hasClass("dno");if(s){var a=e.offset().top-o.offset().top,n=$("body").scrollTop()-a;$("body").scrollTop(n)}return t.toggleClass("dno"),e.html(s?"+ More":"- Less"),!1}))};let r=!1;StackExchange.user.initCvView=()=>{r||(r=!0,$(".js-cv-story").on("click",".js-toggle-more",(function(){const e=$(this),t=e.closest("section, .section, .js-subsection").find(".js-hidden-item");t.toggleClass("d-none");const o=e.data("fewer-text"),s=e.data("more-text"),a=e.html();e.html(t.filter(":hidden").length?a.replace(o,s):a.replace(s,o))})))},StackExchange.user.initListEditor=()=>{const e=$("a.js-edit-list"),t=$("header.js-edit-list"),o=$("form.js-delete-list"),s=t.prev("header");e.click((e=>{e.preventDefault(),t.removeClass("hidden"),s.addClass("hidden")})),o.submit((e=>{e.preventDefault();const t=$(e.currentTarget);confirm("Are you sure you want to delete this list?")&&$.ajax({type:"POST",url:t.attr("action"),data:t.serialize()}).done((e=>{e.success&&$("#content").prepend(e.message)}))}));t.on("click",".js-img-edit",(e=>{e.preventDefault();const t=$(e.target),o=(e=>{const t=$(e),o=t.find("input"),s=t.find("img").not(".js-img-empty"),a={empty(){t.find(".js-img-empty").removeClass("dno"),t.find(".js-img-preview").addClass("dno"),o.val("")},showDialog(){StackExchange.imageUploader.createImageUploadBackground(),StackExchange.imageUploader.uploadImageDialog((e=>{e&&a.setImage(e),StackExchange.imageUploader.removeImageUploadBackground()}))},setImage(e){e?(o.val(e),s.attr("src",e),t.find(".js-img-empty").addClass("dno"),t.find(".js-img-preview").removeClass("dno")):a.empty()}};return a})(t.closest(".js-img-edit"));t.closest(".js-img-remove").length?o.empty():o.showDialog()})),$(".js-cancel-edit").click((e=>{e.preventDefault(),t.addClass("hidden"),s.removeClass("hidden")}))};let l=!1;StackExchange.user.initJobRecommendations=e=>{if(l)return;l=!0;$(document).on("click",".js-toggle-jobs",(e=>{var t,o=$(".js-sidebar-jobs-visible").hasClass("is-visible");(t=o,$.ajax({type:"POST",url:`/users/story/toggle-jobs-recommendations/${StackExchange.user.options.userId}`,data:{fkey:StackExchange.options.user.fkey,collapseJobs:t}})).always((()=>{$(".js-sidebar-jobs-visible, .js-sidebar-jobs-hidden").toggleClass("is-visible is-hidden")}))})),$(document).on("click",".js-jobs-recommendations a",(t=>{const o=$(t.target).closest(".js-click-target").data("target");StackExchange.using("gps",(()=>{StackExchange.gps.track("story_sidebar.jobs_recommendations.click",{target:o,source:e})}))})),$.ajax({type:"POST",url:`/users/story/fetch-jobs-recommendations/${StackExchange.user.options.userId}`,data:{source:e,fkey:StackExchange.options.user.fkey}}).done((e=>{const t=$(".js-jobs-recommendations");t.append(e),StackExchange.ga.bindHandlers(t),t.trigger("recommendations-updated")}))};let c,d=!1;StackExchange.user.initResumeUploader=e=>{if(!d){d=!0;try{c.init(e)}catch(e){$("#uploader-wrapper .loading-text").html("Loading failed.")}}},function(e){e.init=function(e){const t=document.getElementById("uploader-wrapper");if(null===t)return;let o="";window.Dropbox&&Dropbox.isBrowserSupported()?(o='<a href="#" class="js-dropbox-trigger">Dropbox</a>',$("#uploader-wrapper").on("click",".js-dropbox-trigger",(e=>{e.preventDefault(),u(1).then(c,d)}))):$("button.js-dropbox-trigger").hide();let s="";window.gapi?(s='<a href="#" class="js-google-drive-trigger">Google Drive</a>',gapi.load("auth",(()=>{})),gapi.load("picker",(()=>{})),$("#uploader-wrapper").on("click",".js-google-drive-trigger",(e=>{e.preventDefault(),u(0).then(c,d)}))):$("button.js-google-drive-trigger").hide();var a=null;function n(){null!==a&&(clearTimeout(a),a=null)}const i=$(".js-resume-uploader");if(i.hasClass("js-resume-uploader-full")){new qq.FineUploader({element:t,multiple:!1,request:{endpoint:"/jobs/resume/upload",params:{fkey:StackExchange.options.user.fkey}},text:{fileInputTitle:""},validation:{allowedExtensions:e.allowedFileExtensions,sizeLimit:e.maxResumeUploadSize},callbacks:{onTotalProgress:function(e,t){var o=Math.floor(100*e/t);100==(o=Math.min(o,100))?($(".uploading-text").html("Scanning for viruses"),i.removeClass("is-uploading"),i.addClass("is-virus-scanning")):$(".uploading-text").html(`${o}% Complete`)},onValidate:(e,t)=>{const o=new(0,window.qq.Promise);return/[\/\\:\*\?"<>\|]/.test(e.name)?($(".resume-error").html("The file name is invalid").show(),o.failure(!1)):o.success(!0),o},onSubmit:(e,t)=>{$(".uploading-filename").text(t),$(".uploading-text").html("0% Complete"),$(".resume-error").html(null).hide(),$(".js-saved-resume-visible-to-employers").prop("checked",!0),i.addClass("is-uploading")},onComplete:(e,t,o)=>{i.removeClass("is-uploading").removeClass("is-virus-scanning"),$(".uploading-text").html(null),o.success?r(o.savedResumeId,o.filename):$(".resume-error").html(o.message).show()},onError:function(e,t,o,s){i.removeClass("is-uploading").removeClass("is-virus-scanning"),$(".uploading-text").html(null),"XHR returned response code 0"!=o?-1==o.indexOf("has an invalid extension.")&&-1==o.indexOf("is too large")&&"XHR returned response code 400"!=o&&alert(`Error on file upload: ${o}`):$(".resume-error").html("A network error has occurred. Are you connected to the internet?").show()}}});""!==s&&$("#uploader-wrapper .upload-text .js-google-drive-link").html((""===o?" or ":", ")+s),""!==o&&$("#uploader-wrapper .upload-text .js-dropbox-link").html((""===s?" or ":", or ")+o)}function r(e,t){$("input[name='HasSavedResume']").val("True"),$("input[name='SavedResumeId']").val(e).trigger("change"),$(".saved-resume-filename").text(t),$(".upload-complete").fadeIn(100),n(),a=setTimeout((()=>{$(".upload-complete").fadeOut(),n()}),15e3),function(e,t){$(".download-saved-resume").attr("href",`/jobs/resume/download?savedResumeId=${e}`).attr("download",t).show()}(e,t),$(".js-resume-uploader").addClass("has-resume")}function l(e){switch(e){case 0:return 1;case 1:return 2;default:throw"Invalid external resume source"}}function c(e){!function(e){const t=function(e){switch(e){case 0:return"GoogleDrive";case 1:return"Dropbox";default:return"None"}}(e.source);$(".uploading-filename").text(e.displayName),$(".resume-error").html(null).hide(),$(".uploading-text").html(`Fetching from ${t}`),$(".js-saved-resume-visible-to-employers").prop("checked",!0),i.addClass("is-fetching-external-resume"),$.post("/jobs/resume/fetch-from-external-source",{fkey:StackExchange.options.user.fkey,Source:l(e.source),Location:e.location,AuthToken:e.authToken,Filename:e.displayName}).then((e=>{i.removeClass("is-fetching-external-resume"),e.Success?r(e.SavedResumeId,e.Filename):$(".resume-error").html(e.ErrorMessage).show()}),(()=>{i.removeClass("is-fetching-external-resume"),$(".resume-error").html("An unknown error occurred").show()}))}(e)}function d(e){let t="There was an error.";e&&("string"==typeof e?t=e:e instanceof Error&&(t=e.message)),$(".resume-error").text(t).show()}function u(t){return new Promise(((o,s)=>{switch(t){case 0:window.gapi.auth.authorize({client_id:e.googleDrive.clientId,scope:["https://www.googleapis.com/auth/drive.readonly"],immediate:!1},(t=>{if(t&&!t.error){const a=Math.min(Math.max(window.innerWidth,350),650),n=Math.min(Math.max(window.innerHeight,566),1051),i=(new google.picker.PickerBuilder).addView(google.picker.ViewId.DOCUMENTS).addView(google.picker.ViewId.PDFS).setOAuthToken(t.access_token).setAppId(e.googleDrive.appId).setSize(a,n).setDeveloperKey(e.googleDrive.developerKey).setCallback((e=>{(function(e,t){return new Promise(((o,s)=>{if(e&&e[google.picker.Response.ACTION]===google.picker.Action.PICKED){const s=e[google.picker.Response.DOCUMENTS][0];if(s){const e=s[google.picker.Document.ID],a=s[google.picker.Document.MIME_TYPE];let n=s[google.picker.Document.NAME];"application/vnd.google-apps.document"===a&&(n+=".pdf"),o({source:0,location:e,authToken:t,displayName:n})}}}))})(e,t.access_token).then(o,s)})).build();i.setVisible(!0)}}));break;case 1:Dropbox.choose({success:t=>{(function(t){return new Promise(((o,s)=>{if(t.length>0){const a=t[0];a.bytes>e.maxResumeUploadSize?s(new Error(`Resume file is too large. Please limit resume to ${e.maxResumeUploadSize} bytes.`)):o({source:1,location:a.link,displayName:a.name})}}))})(t).then(o,s)},linkType:"direct",extensions:[".pdf",".doc",".docx",".odt",".txt"]})}}))}$("body").on("click",".js-remove-saved-resume",(function(){$("input[name='SavedResumeId']").val(null).trigger("change"),$("input[name='HasSavedResume']").val("False"),$(".js-saved-resume-visible-to-employers").prop("checked",!1),$(".resume-error").hide(),$(".js-resume-uploader").removeClass("has-resume"),$(".upload-complete").hide(),$(".js-last-saved-resume-updated-date").hide(),n()}))}}(c||(c={}))}(e||(e={}))}},t={};function o(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.p="",(()=>{"use strict";o.p=document.getElementById("webpack-public-path").innerText+"Js/"})(),(()=>{"use strict";o(59752),o(58747);StackExchange=window.StackExchange=window.StackExchange||{},StackOverflow=window.StackOverflow=window.StackOverflow||{}})()})();