# match https://pages.github.com/versions/
os: linux
dist: xenial
addons:
  chrome: stable

language: ruby
rvm: 2.5.3
cache: bundler

install:
  - bundle install # install dependencies

before_script:
  - bundle exec jekyll serve &  # start a Web server (use & to start in new process)
  - sleep 3 # give Web server some time to bind to sockets, etc

matrix:
  # finish build even if rubocop is still running
  fast_finish: true
  include:
    - stage: Tests
      script:
        - bundle exec rspec
    - stage: Lint
      script:
        - bundle exec rubocop
  # allow rubocop to fail
  allow_failures:
    - stage: Lint
